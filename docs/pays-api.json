{
  "openapi": "3.0.1",
  "info": {
    "title": "OpenAPI definition",
    "version": "v0"
  },
  "servers": [
    {
      "url": "http://localhost:8098",
      "description": "Generated server url"
    }
  ],
  "paths": {
    "/refreshToken": {
      "post": {
        "tags": [
          "authentication-controller"
        ],
        "operationId": "refresh",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthToken"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/paynow/generateLink": {
      "post": {
        "tags": [
          "Paynow Service"
        ],
        "operationId": "generateLink",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PayNowRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PayNowResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "basicAuth": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/payment/receipt/{orderId}": {
      "post": {
        "tags": [
          "Payment Service"
        ],
        "operationId": "receiptDetails",
        "parameters": [
          {
            "name": "orderId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReceiptModel"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/payment/paymentMethods": {
      "post": {
        "tags": [
          "Payment Service"
        ],
        "operationId": "getpaymentMethods",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentMethodsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentMethodsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/payment/order/{orderId}": {
      "post": {
        "tags": [
          "Payment Service"
        ],
        "operationId": "orderDetails",
        "parameters": [
          {
            "name": "orderId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/Order"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/payment/ivr": {
      "post": {
        "tags": [
          "Payment Service"
        ],
        "operationId": "ivrPayment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IvrRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TpePaymentResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/payment/capture": {
      "post": {
        "tags": [
          "Payment Service"
        ],
        "operationId": "processPayment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TpePaymentResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/passcode/validate": {
      "post": {
        "tags": [
          "authentication-controller"
        ],
        "operationId": "validatePasscode",
        "parameters": [
          {
            "name": "X-Refresh-Token",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasscodeValidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/passcode/new": {
      "post": {
        "tags": [
          "authentication-controller"
        ],
        "operationId": "sendNewPasscode",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "string"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/login": {
      "post": {
        "tags": [
          "authentication-controller"
        ],
        "operationId": "login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/swagger-config": {
      "get": {
        "tags": [
          "swagger-config-controller"
        ],
        "operationId": "getSwaggerConfigBasedOnRole",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/pnc/partner": {
      "get": {
        "tags": [
          "PNC Service"
        ],
        "operationId": "getPayNowConnectPartner",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PNCPartner"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/pnc/partnerLogo/{itemId}": {
      "get": {
        "tags": [
          "PNC Service"
        ],
        "operationId": "getPartnerLogo",
        "parameters": [
          {
            "name": "itemId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/paynow/logo": {
      "get": {
        "tags": [
          "Paynow Service"
        ],
        "operationId": "getPartnerLogo_1",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        },
        "security": [
          {
            "basicAuth": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/paynow/linkStatus/{linkId}": {
      "get": {
        "tags": [
          "Paynow Service"
        ],
        "operationId": "transactionStatus",
        "parameters": [
          {
            "name": "linkId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PaynowStatusResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "basicAuth": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/paynow/auth/{linkId}": {
      "get": {
        "tags": [
          "Paynow Service"
        ],
        "operationId": "auth",
        "parameters": [
          {
            "name": "linkId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PayNowSession"
                }
              }
            }
          }
        },
        "security": [
          {
            "basicAuth": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/paynow/auth/refreshToken/{linkId}": {
      "get": {
        "tags": [
          "Paynow Service"
        ],
        "operationId": "refreshToken",
        "parameters": [
          {
            "name": "linkId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthToken"
                }
              }
            }
          }
        },
        "security": [
          {
            "basicAuth": []
          },
          {
            "bearerAuth": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AuthToken": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string"
          },
          "token_type": {
            "type": "string"
          },
          "expires_in": {
            "type": "integer",
            "format": "int32"
          },
          "refresh_token": {
            "type": "string"
          }
        }
      },
      "AttributeValue": {
        "type": "object",
        "properties": {
          "attribute": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        }
      },
      "PayNowRequest": {
        "required": [
          "email",
          "itemKey",
          "itemSku",
          "phone",
          "transactionAmount"
        ],
        "type": "object",
        "properties": {
          "itemKey": {
            "type": "string"
          },
          "returnURL": {
            "type": "string"
          },
          "cancelURL": {
            "type": "string"
          },
          "deliveryMethod": {
            "maximum": 2,
            "exclusiveMaximum": false,
            "minimum": 0,
            "exclusiveMinimum": false,
            "type": "integer",
            "format": "int32"
          },
          "transactionAmount": {
            "minimum": 1,
            "exclusiveMinimum": false,
            "type": "number"
          },
          "itemSku": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "phone": {
            "pattern": "^\\d{10}$",
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "middleName": {
            "type": "string"
          },
          "company": {
            "type": "string"
          },
          "attributes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AttributeValue"
            }
          },
          "linkId": {
            "type": "string"
          }
        }
      },
      "PayNowResponse": {
        "type": "object",
        "properties": {
          "deliveryMethod": {
            "type": "integer",
            "format": "int32"
          },
          "linkId": {
            "type": "string"
          },
          "redirectURL": {
            "type": "string"
          }
        }
      },
      "ReceiptItem": {
        "type": "object",
        "properties": {
          "skuLabel": {
            "type": "string"
          },
          "skuValue": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "quantity": {
            "type": "integer",
            "format": "int32"
          },
          "itemKey": {
            "type": "string"
          },
          "itemName": {
            "type": "string"
          }
        }
      },
      "ReceiptModel": {
        "type": "object",
        "properties": {
          "orderId": {
            "type": "integer",
            "format": "int64"
          },
          "orderDate": {
            "type": "string",
            "format": "date-time"
          },
          "totalAmount": {
            "type": "number"
          },
          "feeLabel": {
            "type": "string"
          },
          "feeAmount": {
            "type": "number"
          },
          "partnerName": {
            "type": "string"
          },
          "partnerDisclaimer": {
            "type": "string"
          },
          "itemsList": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ReceiptItem"
            }
          },
          "paymentType": {
            "type": "string"
          },
          "paymentSummary": {
            "type": "string"
          },
          "returnURL": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "errorMessage": {
            "type": "string"
          }
        }
      },
      "PaymentMethodsRequest": {
        "type": "object",
        "properties": {
          "subscriptionId": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          }
        }
      },
      "PaymentMethod": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "totalAmount": {
            "type": "number"
          },
          "config": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "fee": {
            "$ref": "#/components/schemas/PaymentMethodFee"
          }
        }
      },
      "PaymentMethodFee": {
        "type": "object",
        "properties": {
          "itemKey": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          }
        }
      },
      "PaymentMethodsResponse": {
        "type": "object",
        "properties": {
          "environment": {
            "type": "string"
          },
          "paymentMethods": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentMethod"
            }
          }
        }
      },
      "Customer": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          },
          "phone2": {
            "type": "string"
          },
          "company": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "fax": {
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "middleName": {
            "type": "string"
          },
          "ip": {
            "type": "string"
          },
          "deviceFingerprint": {
            "type": "string"
          },
          "identities": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CustomerIdentity"
            }
          },
          "attributes": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "CustomerIdentity": {
        "type": "object",
        "properties": {
          "identityType": {
            "type": "integer",
            "format": "int32"
          },
          "value": {
            "type": "string"
          },
          "countryCode": {
            "type": "string"
          },
          "region": {
            "type": "string"
          },
          "identityTypeId": {
            "type": "string"
          }
        }
      },
      "ItemAttribute": {
        "type": "object",
        "properties": {
          "fieldName": {
            "type": "string"
          },
          "fieldValue": {
            "type": "string"
          },
          "receiptDisplay": {
            "type": "boolean"
          }
        }
      },
      "Order": {
        "type": "object",
        "properties": {
          "orderId": {
            "type": "integer",
            "format": "int64"
          },
          "orderDate": {
            "type": "string",
            "format": "date-time"
          },
          "authorizeAmount": {
            "type": "number"
          },
          "paymentAmount": {
            "type": "number"
          },
          "refundAmount": {
            "type": "number"
          },
          "refundBalance": {
            "type": "number"
          },
          "status": {
            "type": "string"
          },
          "paymentItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderItem"
            }
          },
          "feeItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderItem"
            }
          },
          "customer": {
            "$ref": "#/components/schemas/Customer"
          },
          "paymentInfo": {
            "$ref": "#/components/schemas/OrderPaymentInfo"
          },
          "subscriptionId": {
            "type": "string"
          }
        }
      },
      "OrderItem": {
        "type": "object",
        "properties": {
          "itemId": {
            "type": "integer",
            "format": "int64"
          },
          "itemKey": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "orderItemId": {
            "type": "integer",
            "format": "int64"
          },
          "sku": {
            "type": "string"
          },
          "instanceId": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "INVALID",
              "GENERAL",
              "TAX",
              "FEE",
              "DISCOUNT",
              "ENGINE"
            ]
          },
          "authorizeAmount": {
            "type": "number"
          },
          "paymentAmount": {
            "type": "number"
          },
          "refundAmount": {
            "type": "number"
          },
          "refundBalance": {
            "type": "number"
          },
          "attributes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ItemAttribute"
            }
          }
        }
      },
      "OrderPaymentInfo": {
        "type": "object",
        "properties": {
          "paymentMethod": {
            "type": "string",
            "enum": [
              "Unkown",
              "CreditCard",
              "BankAccount",
              "BillingAccount",
              "ApplePay",
              "GooglePay",
              "PayPal",
              "WeChat",
              "AliPay",
              "PointOfSale",
              "Venmo",
              "Cash"
            ]
          },
          "cardHolderName": {
            "type": "string"
          },
          "cardSummary": {
            "type": "string"
          },
          "cardType": {
            "type": "string"
          },
          "expiryDate": {
            "type": "string"
          },
          "bankAccountSummary": {
            "type": "string"
          },
          "bankAccountName": {
            "type": "string"
          },
          "paymentMethodId": {
            "type": "string"
          }
        }
      },
      "IvrRequest": {
        "required": [
          "email",
          "itemKey",
          "itemSku",
          "phone",
          "transactionAmount"
        ],
        "type": "object",
        "properties": {
          "itemKey": {
            "type": "string"
          },
          "deliveryMethod": {
            "maximum": 2,
            "exclusiveMaximum": false,
            "minimum": 0,
            "exclusiveMinimum": false,
            "type": "integer",
            "format": "int32"
          },
          "transactionAmount": {
            "minimum": 1,
            "exclusiveMinimum": false,
            "type": "number"
          },
          "itemSku": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "phone": {
            "pattern": "^\\d{10}$",
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "middleName": {
            "type": "string"
          },
          "company": {
            "type": "string"
          },
          "attributes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AttributeValue"
            }
          }
        }
      },
      "TpePaymentResponse": {
        "type": "object",
        "properties": {
          "orderId": {
            "type": "integer",
            "format": "int64"
          },
          "subscriptionId": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "errorMessage": {
            "type": "string"
          },
          "retry": {
            "type": "boolean"
          },
          "review": {
            "type": "boolean"
          }
        }
      },
      "Address": {
        "required": [
          "city",
          "countryCode",
          "postalCode",
          "state",
          "street1"
        ],
        "type": "object",
        "properties": {
          "street1": {
            "type": "string"
          },
          "street2": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "postalCode": {
            "type": "string"
          },
          "state": {
            "type": "string"
          },
          "countryCode": {
            "type": "string"
          }
        }
      },
      "Payment": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "shopperPaymentInfo": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "PaymentRequest": {
        "type": "object",
        "properties": {
          "address": {
            "$ref": "#/components/schemas/Address"
          },
          "customer": {
            "$ref": "#/components/schemas/Customer"
          },
          "payment": {
            "$ref": "#/components/schemas/Payment"
          }
        }
      },
      "PasscodeValidationRequest": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "passcode": {
            "type": "string"
          },
          "rememberMe": {
            "type": "boolean"
          }
        }
      },
      "LoginResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "authToken": {
            "$ref": "#/components/schemas/AuthToken"
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "PNCItem": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "sku": {
            "type": "string"
          },
          "attributes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "PNCPartner": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PNCItem"
            }
          }
        }
      },
      "PaynowStatusResponse": {
        "type": "object",
        "properties": {
          "linkId": {
            "type": "string"
          },
          "linkStatus": {
            "type": "integer",
            "format": "int32"
          },
          "orderId": {
            "type": "integer",
            "format": "int64"
          },
          "orderStatus": {
            "type": "integer",
            "format": "int32"
          },
          "transactionAmount": {
            "type": "number"
          },
          "feeAmount": {
            "type": "number"
          },
          "grandTotal": {
            "type": "number"
          },
          "paymentMethod": {
            "type": "string"
          },
          "paymentSummary": {
            "type": "string"
          },
          "authCode": {
            "type": "string"
          }
        }
      },
      "PayNowSession": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "paymentInfo": {
            "$ref": "#/components/schemas/PaynowPaymentInfo"
          },
          "linkId": {
            "type": "string"
          },
          "authToken": {
            "$ref": "#/components/schemas/AuthToken"
          }
        }
      },
      "PaynowPaymentInfo": {
        "type": "object",
        "properties": {
          "returnURL": {
            "type": "string"
          },
          "cancelURL": {
            "type": "string"
          },
          "deliveryMethod": {
            "type": "integer",
            "format": "int32"
          },
          "transactionAmount": {
            "type": "number"
          },
          "skuLabel": {
            "type": "string"
          },
          "skuValue": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "middleName": {
            "type": "string"
          },
          "company": {
            "type": "string"
          },
          "partnerName": {
            "type": "string"
          },
          "partnerDisclaimer": {
            "type": "string"
          },
          "itemKey": {
            "type": "string"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}